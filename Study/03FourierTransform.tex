%TeX root = main.tex
\newpage
\section{Fourier Transform}

\subsection{Definiton and basic properties}
  While defining Fourier series we were mainly focused on periodic functions. Now we'll try to expand that into another set of functions. We'll be interested on functions in $L^1(\R)$, that is those real or complex valued functions $f(x)$ in $\R$ for which $$\int_{-\infty}^{\infty} |f(x)| \ dx < \infty$$. For those functions in $L^1(\R)$ the integral above will be called the $L^1$ norm of the function $f$ and will be denoted by $\|f\|_{L^1(\R)}$ or in short $\|f\|_1$. Also note that the notations $\int_{\R}$ and $\int_{-\infty}^{\infty}$ means the same and we might use them interchangably as we see fit.

  Analogus to what we did in finding the $n^{th}$ fourier coefficient in definition \ref{def:fourier_coefficient}, we'll define the fourier transform of $f$

  \begin{definition}[Fourier transform of a function $f$]
    \label{def:fourier_transform_of_f}
    Let $f \in L^1(\R)$, then we define the Fourier tranform of $f$ as $$\hatf(t) = \int_{\R} f(x) e^{-2 \pi itx} \ dx$$
  \end{definition}
  Note that while we say $\hatf$ is the Fourier transform of the function $f$, the term "Fourier tranform" is also used for the map which takes $f$ to $\hatf$.

  Also note that $\hatf(t)$ is a finite quantity (real or complex) for all $t \in \T$ since $f\in L^1(\T)$ and $|e^{-2 \pi itx}| = 1$ implies $$|\hatf(t)| \le \int_{-\infty}^{\infty}\left|f(x)\right| dx < \infty$$ By the linearity of the integral we can also show that for functions $f, g \in L^2(\R)$ and scalars $\mu, \nu$, $\widehat{\mu f + \nu g}(t) = \mu \hatf(t) + \nu\hatg(t)$.

  Now we'll prove some important properties of Fourier transforms. Note that this will almost remind you of the properties of Fourier coefficinets in proposition \ref{prop:properties_of_fourier_coefficients}. 
  \begin{proposition}[Properties of Fourier transform]
    \label{prop:properties_of_fourier_transform}
    If $f\in L^1(\R)$ and $\hatf$ is the Fourier tranform of $f$ as in definition \ref{def:fourier_transform_of_f}, then 
    \begin{enumerate}[label=(\alph*)]
      \item If $a \in \R$ and $g(x) = f(x+a)$ for all $x \in \R$, then $g \in L^1(\R)$ and $\hatg(t) = e^{2\pi ita} \hatf(t)$ for all $t$.
      \item If $b \in \R$ and $h(x) = e^{2\pi bx}f(x)$, then $h \in L^1(\R)$ and $\hath(t) = \hatf(t-b)$ for all $t$.
      \item If $c \in \R$ is not $0$, and $j(x) = f(cx)$, then $j \in L^1(\R)$ and $\hatj(t) = \frac{\hatf(t/c)}{|c|}$ for all $t$.
      \item if $l(x) = \overline{f(x)}$, then $l\in L^1(\R)$ and $\hatl(t) = \overline{\hatf(-t)}$
    \end{enumerate}
  \end{proposition}

  \begin{proof}
    Note that by appropriate change of variable we can see that all the above functions $g, h, j, l$ are in $L^1(\R)$. We'll prove the other properties.
    \begin{enumerate}[label=(\alph*)]
      \item By the change of variable $y = x+a$, we get that
        $$\hatg(t) = \int_{\R}g(x)e^{-2 \pi itx} \ dx = \int_\R f(x+a)e^{-2\pi itx} \ dx = e^{2\pi ita}\int_\R f(y)e^{-2 \pi ity} \ dx$$
        which is equal to $e^{2\pi ita}\hatf(t)$

      \item $$\hath(t) = \int_{\R}h(x)e^{-2\pi itx} \ dx = \int_\R f(x)e^{-2\pi i(t-b)x} \ dx = \hatf(t-b)$$

      \item Here we'll need to be careful because $c$ maybe negative.Assume $c>0$, then by a change of variable $y=cx$, we get $$\hatj(t) = \int_{-\infty}^{\infty} j(x)e^{-2\pi itx} \ dx = \int_{-\infty}^{\infty} f(cx)e^{-2\pi itx} \ dx = \frac{1}{c}\int_{-\infty}^{\infty} f(y)e^{-2\pi i \frac{t}{c}y} $$
        Then if $c>0$, $\hatj(t) = \frac{\hatf(t/c)}{c}$. Now if $c<0$ the limits of integration will reverse, i.e $$\int_{-\infty}^{\infty} f(cx)e^{-2\pi itx} \ dx = \frac{1}{c}\int_{\infty}^{-\infty} f(y)e^{-2\pi i \frac{t}{c}y} \ dx = \frac{1}{-c}\int_{-\infty}^{\infty} f(y)e^{-2\pi i \frac{t}{c}y} \ dx$$
        Which shows that if $c\neq 0$, $\hatj(t) = \frac{\hatf(t/c)}{|c|}$.
      \item Since we know that integral of the conjugate is the conjugate of the integral, $$\hatl(t) = \int_\R \overline{f(x)} e^{-2\pi itx} = \int_\R \overline{f(x) e^{-2\pi i(-t)x}} = \overline{\int_\R f(x) e^{-2\pi i(-t)x}} = \overline{\hatf(-t)}$$
    \end{enumerate}
  \end{proof}

  Now we extend the proposition \ref{prop:L1_functions_are_continuous_in_L1_norm} to the whole of $\R$
  \begin{proposition}
    \label{prop:L1_functions_are_continuous_in_L1_norm_in_R}
    If $f \in L^1(\R)$, then $$\lim_{\delta \to \infty} \int_\R |f(x+\delta) - f(x)| \ dx = 0$$
  \end{proposition}
  \begin{proof}
    Since $f\in L^1(\R)$, there exists an $X$ such that $$\int_{|x|>X-1} |f(x)| \ dx < \epsilon$$
    Then by triangle inequality, for $\delta \le 1$, $$\int_\R |f(x+\delta) - f(x)| \ dx \le \int_{-X}^X |f(x+\delta) - f(x)| \ dx + 2\epsilon$$
    Now since $f \in L^1(\R)$ and continuous functions are dense in $L^1$ norm in compact intervals, there exists a $g \in C([-X-1, X+1]) \cap L^1([-X, X])$ such that for any given $\epsilon$, $$\int_{-X-1}^{X+1} |f(x) - g(x)| \ dx < \epsilon$$
    Then by triangle inequality $$\int_{-X}^X |f(x+\delta) - f(x)| \ dx \le \int_{-X}^X |g(x+\delta) - g(x)| \ dx + 2\epsilon$$. Morever since $g$ is continuous on $[-X-1, X+1]$, it is uniformly continuous on the interval and hence the integral tends to $0$ as $\delta \to 0$. Hence the proof.
  \end{proof}

  Using the above result we'll prove an important theorem
  \begin{theorem}[Riemann Lebesgue Lemma]
    Let $f \in L^1(\R)$. Then $$\lim_{t \to \pm \infty} \hatf(t) = 0$$
  \end{theorem}
  \begin{proof}
    We know that $$\hatf(t) = \int_\R f(x)e^{-2 \pi itx} \ dx $$
    By change of variables $x = y + \frac{1}{2t}$, we see that the above equation becomes $$\hatf(t) = \int_\R f(y + \frac{1}{2t})e^{-2 \pi it(y+ \frac{1}{2t})} \ dy = -\int_\R f(y + \frac{1}{2t})e^{-2 \pi it(y)} \ dy  $$
    Therefore $$2\hatf(t) = \int_\R (f(x + \frac{1}{2t}) - f(x))e^{-2 \pi itx} \ dx $$
    and therefore $$\left|\hatf(t)\right| \le \frac{1}{2} \int_\R |f(x + \frac{1}{2t}) - f(x)| dx$$
    Now by proposition \ref{prop:L1_functions_are_continuous_in_L1_norm_in_R} as $t \to \infty$, $\frac{1}{2t} \to 0$ and therefore $\hatf(t) \to 0$. Hence proved. 
  \end{proof}

  Convolution was one important operation which helped us in the theory of Fourier series. We will define the convolution of two functions in $L^1(\R)$ the same way we defined it for functions in $L^1(\T)$ in definition \ref{def:convolution_of_functions_in_L^1(T)}. That is if $f, g \in L^1(\R)$, we define the convolution of $f$ and $g$ as $$(f*g)(x) = \int_{\R} f(x-y)g(y) dy$$
  But unlike $L^1(\T)$, $L^1(\R)$ is not finite measure space. So we'll need to make sure this definition of convolution is well defined for functions in $L^1(\R)$. 

  \begin{proposition}
    For functions $f, g \in L^1(\R)$, $f(x-y)g(y)$ is Lebesgue measurable in the product space $\R^2$. Moreover $f(x-y)g(y) \in L^1(\R^2)$. And therefore by Fubini's theorem $\int_\R f(x-y)g(y) dx$ exists and is well defined for all $x \in \R$. 
  \end{proposition}
  \begin{proof}
    Consider $h, k : \R^2 \to \R$ defined as $h(x, y) = f(x)$ and $k(x, y) = g(x)$. Then $h^{-1}(a, \infty) = f^{-1}(a, \infty) \times \R$ and $k^{-1}(b, \infty) = \R \times g^{-1}(b, \infty)$ and therefore $h, k$ are measurable functions. Moreover we know from the theory of measurable functions that the product of measurable functions is measurable. Therefore $F(x, y) = h(x, y)k(x, y) = f(x)g(y)$ is measurable. Also the map $T(x, y) = (x-y, y)$ is linear. Hence $H(x, y) = F\circ T(x, y) = f(x-y)g(y)$ is measurable. 

    Also $H \in L^1(\R^2)$ since $$\int_{\R^2} \left|H(x, y)\right| dx \ dy  = \int_\R \left( \int_\R \left|f(x-y)\right| dx \right)|g(y)| \ dy = \int_\R \|f\|_1 |g(y)| \ dy = \|f\|_1\|g\|_1$$
    $f(x-y)g(y) \in L^1(\R^2)$.
    
  \end{proof}

  Almost all the properties of the convolution in $L^1(\T)$ has its analogues in $L^(\R)$, but we will only quote the most important one, that is the convolution is commutative, $f*g = g*f$. One can easily prove this using a change of variable like we did in proposition \ref{prop:properties_of_convolution}

  We'll also prove that for functions $f, g \in L^1(\R)$, $f*g \in L^1(\R)$.
  \begin{proposition}
    \label{prop:convolution_is_well_defined_in_L^1(R)}
    Let $f, g \in L^1(\R)$, then $f*g \in L^1(\R)$ and $\widehat{f*g}(t) = \hatf(t)\hatg(t)$.
  \end{proposition}
  \begin{proof}
    By the definition of the convolution of $f$ and $g$, 
    \begin{align*}
      \int_\R|(f*g)(x)| dx &= \int_\R \left| \int_\R f(x-y)g(y) \ dy \right| \ dx \\
      & \le \int_\R \int_\R |f(x-y)g(y)| \ dy \ dx
    \end{align*}
    Now by Fubini's theorem we know that last integral is equal to $$\int_{\R^2}f(x-y)g(y) $$ and by previous theorem it is less than or equal to $\|f\|_1\|g\|_1$.

    For the fourier transform
    \begin{align*}
      \widehat{f*g}(t) &= \int_\R \widehat{f*g}(x) e^{-2 \pi itx} \ dx \\
      &= \int_\R \int_\R f(x-y)g(y) e^{-2 \pi itx} \ dy \ dx \\
      &= \int_\R g(y)e^{-2 \pi ity}\int_\R f(x-y) e^{-2 \pi it (x-y)} \ dx \ dy \\
      &= \int_\R g(y)e^{-2 \pi ity} \hatf(t) dy \\
      &= \hatf(t) \hatg(t) \\
    \end{align*}
    Note that the change of variable is justified since we know that  for all $x \in \R$, $|e^{-2\pi itx}| = 1$ and hence the integral is absolutely convergent by the proof similar to last theorem. 
  \end{proof}


\subsection{Fourier Inversion Formula}
For $L^1$ periodic functions, we were able to represent them using their Fourier series. We wish to do the same for functions in $L^1(\R)$, by trying to represent them using their Fourier transform. We hope that $$f(x) = \int_\R \hatf(t) e^{2\pi itx} dt$$
But, we might encounter difficulties in convergence, like we had in Fourier series. We might need to introduce analogus techniques to Fej\'er kernel to define the integral. As a first step towards that we'll consider functions like $$B(x) = \int_{-T}^T b(t)e^{2 \pi itx} \ dt$$
For the Fourier transform, these functions will serve as analogue for trigonometric polynomials in Fourier series.

We'll now prove an important property of functions $B(x)$ as defined above. 

\begin{proposition}
  \label{prop:property_of_analogue_of_trigonometric_functions}
  Let $b \in L^1[-T, T]$, and $f \in L^1(\R)$, then $$B(x) = \int_{-T}^T b(t)e^{2\pi itx} \ dt \implies (f*B)(x) = \int_{-T}^T b(t) \hatf(t)e^{2\pi itx} \ dx$$
\end{proposition}
\begin{proof}
  Since $|e^{2 \pi itx}| = 1$, and $b \in L^1[-T, T]$, by triangle inequaltiy $$|B(x)| \le \int_{-T}^T |b(t)| \ dt < \infty$$
  Thus $B$ is a bounded function in the finite interval $[-T, T]$. Hence $|(f*B)(x)| \le \|f\|_1 \|b\|_1$ for all $x$. Moreover, 
  \begin{align}
    (f*B)(x) &= \int_\R f(x-y)B(y) \ dy \\
    &= \int_\R f(x-y) \int_{-T}^T b(t)e^{2 \pi ity} \ dt \ dy \\
    &= \int_{-T}^{T}b(t) e^{2 \pi itx}\int_\R f(x-y) e^{-2 \pi it(x-y)} \ dy \ dt \\
    &= \int_{-T}^T b(t)\hatf(t)e^{2\pi itx} \ dt
  \end{align}
  Note that the change of intergral is justified because we already know that the integral is finite since $|(f*B)(x)| \le \infty$.
\end{proof}

Now we'll prove some propositions which will help us in $L^2(\R)$. 
\begin{proposition}
  \label{prop:integral_of_sin(pi_x)^2/(pi_x)^2}
  We have $$\int_{-\infty}^{\infty} \left(\frac{\sin(\pi x)}{\pi x}\right)^2 \ dx = 1$$
\end{proposition}
\begin{proof}
  from (b) and (e) of proposition \ref{prop:properties_of_fejer_kernel}, and lemma \ref{lem:integral_of_periodic_function} we get that $$\int_{-\frac{1}{2}}^{\frac{1}{2}} \frac{1}{N} \left(\frac{\sin(\pi Nx)}{\sin (\pi x)}\right)^2 \ dx = 1$$
  We can write this integral as $$\int_{-\frac{1}{2}}^{\frac{1}{2}} \frac{1}{N} \left(\frac{\sin(\pi Nx)}{\pi x}\right)^2 \ dx + \int_{-\frac{1}{2}}^{\frac{1}{2}} \frac{\sin^2 \pi Nx}{N} \left( \frac{1}{\sin^2 \pi x} - \frac{1}{(\pi x)^2} \right) \ dx = I_1 + I_2 = 1 $$
  For $I_1$, we see that by the change of variable $y = Nx$, it becomes $$I_1 = \int_{-\frac{N}{2}}^{\frac{N}{2}} \left(\frac{\sin(\pi x)^2}{\pi x}\right)^2 \ dx $$. 
  And for $I_2$, we see that the difference of fractions inside paranthesis is $$\frac{(\pi x)^2 - \sin^2(\pi x)}{(\pi x \sin(\pi x))^2} = \frac{(\pi x - \sin(\pi x))(\pi x + \sin(\pi x))}{(\pi x \sin(\pi x))^2}$$
  Here $\pi x - \sin(\pi x)$ has a zero of order 3, and $\pi x + \sin(\pi x)$ has a zero of order 1 at $x=0$. Hence the numerator has a zero of order 4 at $x=0$. Again the denominator also has a zero of order 0 at $x=0$. Then the expression has a bounded value at $x=0$. Also everywhere else in the interval $-\frac{1}{2} \le x \le \frac{1}{2}$, the expression is continuous being a product and quotient of continuous function. Hence the expression is bounded in the same interval. Hence $|I_2| \le \frac{C}{N}$, for some constant $C$. Therefore as $N \to \infty$, $I_1$ tends to our desired integral and $I_2 \to 0$. Since $I_1 + I_2 = 1$ our result follows. 
\end{proof}

Let's define the $L^1(\R)$ analogue of Fej\'er kernel. 
\begin{definition}
  For real numbes $T > 0$, we define 
  \label{def:L1(R)_analogue_of_fejer_kernel}
  $$\Delta_T(x) =
  \begin{cases}
    \frac{1}{T}\left(\frac{\sin \pi Tx}{\pi x}\right)^2, &\text{ if }x \neq 0\\
    T, &\text{ if } x=0
  \end{cases}$$
\end{definition}

\begin{proposition}[Properties of $\Delta$ function]
  \label{prop:properties_of_fejer_kernel_in_R}
  Let $T>0$, and $\Delta(x)$ be as defined above, then the following holds 
  \begin{enumerate}[label=(\alph*)]
    \item $$\int_\R \Delta_T(x) \ dx = 1$$
    \item $$\Delta(-x) = \Delta(x)$$
    \item $$\int_{-T}^T \left(1-\frac{|t|}{T}\right) e^{2\pi itx} \ dt = \Delta_T(x)$$
  \end{enumerate}
\end{proposition}
\begin{proof}
  \begin{enumerate}[label=(\alph*)]
    \item  
      From proposition \ref{prop:integral_of_sin(pi_x)^2/(pi_x)^2}, $$\int_\R \left(\frac{\sin(\pi x)}{\pi x}\right)^2 \ dx = 1$$
      Put $x=Ty$, then $dx = T \ dy $ and we get the desired result

    \item This is clear from the definition, since $\sin^2(-x) = \sin^2(x)$.
    \item To prove this first we'll find the Fourier transform of the function $g$, where $g(x) = 1 - |x|$ for $|x| \le 1$ and $g(x)$ is 0 everywhere else.
     \begin{align*}
       \hatg(t) &= \int_{-1}^1 (1-|x|)e^{-2 \pi itx} \ dx = 2\int_0^1(1-x)\cos(2\pi tx) \ dx \\
       &= 2\left[(1-x)\frac{\sin(2\pi tx)}{2\pi t} \right]_0^1 + \int_0^1\frac{\sin(2\pi tx)}{\pi t} \ dx \\
       &= \left[-\frac{\cos(2\pi tx)}{2(\pi t)^2}\right]_0^1 = \frac{1 - \cos(2\pi tx)}{2(\pi t)^2} = \left(\frac{\sin(\pi t)}{\pi t}\right)^2
     \end{align*}
      Now from the (c) of proposition \ref{prop:properties_of_fourier_transform}, we get that the fourier transform of the function $h(x) = g(Tx)$, $$\hath(t) = \frac{1}{T}\left(\frac{\sin(\pi Tx)}{\pi x}\right)^2 = \Delta(x)$$
      Note that the above holds true for values $x\neq 0$ and when $x=0$, the integral reduces to $$\frac{1}{T}\int_{-T}^T (T-|t|) \ dt =  \frac{2}{T}\int_0^T(T-t) \ dt = T = \Delta(0)$$
    Hence the proof.
  \end{enumerate}
\end{proof}

From the above properties we conclude the following result. 
\begin{corollary}
  \label{cor:convolution_with_fejer_kernel_in_L1(R)}
  If $f\in L^1(\R)$, and $\Delta_T$ is as in definition \ref{def:L1(R)_analogue_of_fejer_kernel}, then $$(f*\Delta_T)(x) = \int_{-T}^T \left(1-\frac{|t|}{T}\right)\hatf(t)e^{2\pi itx} \ dt$$
\end{corollary}
\begin{proof}
  From last proposition we get that $$\Delta_T(x) = \int_{-T}^T \left(1-\frac{|t|}{T}\right)e^{-2 \pi itx} \ dx$$
  Using the result of proposition \ref{prop:property_of_analogue_of_trigonometric_functions}, on $\Delta_T$, we get the result.
\end{proof}

Now we prove the $L^1(\R)$ analogue of the Fejer's theorem (theorem \ref{thm:fejer_theorem})
\begin{theorem}
  \label{thm:L1(R)_analogue_of_fejer_theorem}
  Let $f \in L^1(\R)$. If $f$ is continuous at $x$, then $$\lim_{x \to \infty} \int_{-T}{T}\left(1-\frac{|t|}{T}\right)\hatf(t)e^{2\pi itx} \ dt = f(x)$$
\end{theorem}
\begin{proof}
  Let $\epsilon$ be given, since we know that $f$ is continuous at $x$, there exist a $\delta$, such that $|f(x-y) - f(x)| < \epsilon$, when $|y| < \delta$. Also since we know that $\int_\R \Delta_T(x) \ dx = 1$ by proposition \ref{prop:properties_of_fejer_kernel_in_R} and by corollary \ref{cor:convolution_with_fejer_kernel_in_L1(R)},
  \begin{align*}
    \int_{-T}^T\left(1-\frac{|t|}{T}\right)\hatf(t)e^{2\pi itx} dt - f(x) &= (f*\Delta_T)(x) - f(x) \\
     &= \int_\R f(x-y) \Delta_T(y) dy - \int_\R f(x)\Delta_T(y) \ dy \\
     &= \int_\R (f(x-y) - f(y)) \Delta_T(y) dy \\ 
  \end{align*}
  Now we'll evaluate the last integral into $I_1, I_2, I_3$, where $I_1$ is when $-\infty<y\le-\delta$, $I_2$ is when $-\delta < y < \delta$ and $I_3$ is $\delta \le y < \infty$. When $y$ is in $I_1$ and $I_3$, we see from the definition \ref{def:L1(R)_analogue_of_fejer_kernel} that since $|y| > |\delta|$ in $I_1$ and $I_3$, $|\Delta_T(y)| \le \frac{1}{T(\pi\delta)^2}$. Thus $$|I_1| \le \frac{1}{T\pi^2\delta^2}\int_{-\infty}^{-\delta} |f(x-y)| \ dy + |f(x)|\int_{-\infty}^{-\delta}\Delta_T(y) \ dy $$ $$|I_3| \le \frac{1}{T\pi^2\delta^2}\int^{\infty}_{\delta} |f(x-y)| \ dy + |f(x)|\int^{\infty}_{\delta}\Delta_T(y) \ dy $$
  where the first integral in both the inequalities is less than $\|f\|_1$ which is finite, and second integral $$\int_{-\infty}^{-\delta} \Delta_T(y) \ dy = \int_\delta^\infty \Delta_T(y) \ dy \le \int_\delta^\infty \frac{1}{T\pi^2 \delta^2} \ dx = \frac{1}{T\pi^2 \delta}$$
  Therefore $I_1, I_3 \to 0$, as $T\to \infty$. Now in $I_2$, by the continuity of $f$ at $x$, $$|I_2| \le \epsilon\int_{-\delta}^\delta \Delta_T(y) \ dy \le \epsilon \int_\R \Delta_T(y) \ dy = \epsilon$$
  Therefore $I_2$ can also be made arbitarily small. Hence the theorem. 
\end{proof}

\subsection{Fourier Tranform in $L^1(\R) \cap 
L^2(\R)$}
We are intereseted in defining the Fourier transfrom for functions in $L^2(\R)$ because a lot of important relations appear when the space is $L^2(\R)$. But here arise a new problem. The way we defined Fourier transforms for $L^1$ functions were by directly using the fact that their $L^1$ norm is finite. But since there is no containment between the spaces $L^1(\R)$ and $L^2(\R)$, we might not be able to define the Fourier transform for all $L^2(\R)$ functions. Therefore we restrict ourself to the space $L^1(\R) \cap L^2(\R)$. 

Since our new space $L^1(\R) \cap L^2(\R)$ is a subspace of $L^1(\R)$, the Fourier transform of all functions $f \in L^1(\R) \cap L^2(\R)$ is well defined. 

Now we'll prove an important result which is the $L^2(\R)$ analogue of the proposition \ref{prop:L1_functions_are_continuous_in_L1_norm_in_R}

\begin{proposition}
  \label{prop:L2_functions_are_continuous_in_L2_norm_in_R}
  If $f\in L^2(\R)$, then $$\lim_{\delta \to 0} \int_\R |f(x+\delta) - f(x)|^2 \ dx = 0 $$
\end{proposition}
\begin{proof}
  Since $f\in L^2(\R)$, for every $\epsilon > 0$ there exist an $X$ such that $$\left( \int_{|x|> X-1} |f(x)|^2 \ dx \right)^{\frac{1}{2}} < \epsilon$$
  Therefore by triangle inequality, for $\delta \le 1$, $$ \left( \int_\R |f(x+\delta) - f(x)|^2 \ dx \right)^{\frac{1}{2}} \le \left( \int_{-X}^X |f(x+\delta) - f(x)|^2 \ dx \right)^{\frac{1}{2}} + 2\epsilon$$
  Now since continuous functions are dense in $L^2$ norm on compact intervals, there exists a $g \in C([-X-1, X+1])\cap L^2([-X-1, X+1])$ such that $$ \|f-g\|_{L^2([-X-1, X+1])} = \left( \int_{-X-1}^{X+1} |f(x) - g(x)|^2 \ dx \right)^{\frac{1}{2}} < \epsilon $$
  Then by triangle inequality $$ \left( \int_{-X}^X |f(x+\delta) - f(x)|^2 \ dx \right)^{\frac{1}{2}} \le \left( \int_{-X}^X |g(x+\delta) - g(x+\delta)|^2 \ dx \right)^{\frac{1}{2}} + 2\epsilon $$
  Now since $g$ is continuous in a compact space $[-X-1, X+1]$, it is uniformly continuous and therefore as $\delta \to 0$ the above integral tends to $0$. Hence the proof.
\end{proof}

Now we'll discuss about the convolution of functions in $L^2(\R)$. We'll follow the same definition as before in $L^1(\R)$. (For formula refer to definition \ref{def:convolution_of_functions_in_L^1(T)}). It is natural to think if such a definition is well defined. In fact by the Holders inequality (Theorem \ref{thm:Holder_inequality}) one can show that it is well defined. Since if $f, g \in L^2(\R)$, then 
  \begin{align*}
    |f*g(x)| &= \left|\int_R f(x-y)g(y) \ dy \right|\\
        &\le \int_\R |f(x-y)g(y)| \ dy \\
        &\le \left(\int_\R |f(x-y)|^2 \ dy \right)^{\frac{1}{2}} \left(\int_\R |g(y)|^2 \ dy \right)^{\frac{1}{2}} \\
        &= \|f\|_2 \|g\|_2
  \end{align*}

We can now discuss about the convolution of $L^2(\R)$ functions. We'll now show that the convolution of two functions in $L^2(\R)$ is uniformly continuous. This proposition will be a stepping stone to the celebrated Plancherel's Theorem.

  \begin{proposition}
    If $f, g \in L^2(\R)$, then $f*g$ is uniformly continuous.
  \end{proposition}
  \begin{proof}
    Let $h(x) = (f*g)(x)$. Then $$h(x+\delta) - h(x) = \int_\R (f(x+\delta - y) - f(x-y)) g(y) \ dy$$
    By Holder's inequality, 
    \begin{align*}
      |h(x+\delta) - h(x)| &\le \int_\R \left|(f(x+\delta - y) - f(x-y)) g(y) \right| \ dy \\
      &\le \left( \int_\R \left|f(x+\delta - y) - f(x-y) \right|^2 dy\right)^{\frac{1}{2}} \left( \int_\R \left|g(y)\right|^2 \right)^{\frac{1}{2}}
    \end{align*}
    where the first integral converge to zero by proposition \ref{prop:L2_functions_are_continuous_in_L2_norm_in_R} and the last integral is a constant. Since the first integral is over all of $\R$, it is independent of $x$ and hence the result follows.
  \end{proof}

Now we'll prove the famous Plancherel's theorem.
\begin{theorem}[Plancherel's Theorem]
  \label{thm:Plancherel's_theorem}
  If $f \in L^1(\R) \cap L^2(\R)$, then $$\int_\R |f(x)|^2 \ dx = \int_\R |\hatf(t)|^2 \ dt $$
\end{theorem}
\begin{proof}
  Let $g(x) = \overline{f(-x)}$. Then $g \in L^1(\R)\cap L^2(\R)$. Put $h(x) = (f*g)(x)$. Since $f, g \in L^1(\R)$, by proposition \ref{prop:convolution_is_well_defined_in_L^1(R)}, $h \in L^1(\R)$. Since $f, g \in L^2(\R)$, by proposition \ref{prop:L2_functions_are_continuous_in_L2_norm_in_R}, $h$ is uniformly continuous. 
  Hence by theorem \ref{thm:L1(R)_analogue_of_fejer_theorem}  $$h(x) = \lim_{T\to \infty} \int_{-T}^T \left(1-\frac{|t|}{T}\right) \hath(t)e^{2\pi itx} \ dt $$ for all $x$. In particular, for $x=0$ we get $$h(0) = \lim_{T\to \infty} \int_{-T}^T \left(1-\frac{|t|}{T}\right) \hath(t) \ dt$$
  By the proposition \ref{prop:convolution_is_well_defined_in_L^1(R)} $\hath(t) = \hatf(t)\hatg(t)$. By the definition of $g$, and combining (c), (d) from proposition \ref{prop:properties_of_fourier_transform}, we get that $\hatg(t) = \overline{\hatf(t)}$.
  Since $$h(0) = (f*g)(0) = \int_\R f(y)g(-y) \ dy = \int_\R |f(y)|^2 \ dy$$
  we get that $$\int_\R |f(x)|^2 \ dx = \lim_{T\to \infty} \int_{-T}^T \left(1-\frac{|t|}{T}\right) |\hatf(t)|^2 \ dt$$
  Since the integral in the right is always positive, the limit is an increasing limit. Then for any $0<\epsilon<1$, we have $$(1-\epsilon) \int_{-\epsilon T}^{\epsilon T} |\hatf(t)|^2 \ dt \le \int_{-T}^{T} \left( 1-\frac{|t|}{T} \right) |\hatf(t)|^2 dt \le \int_\R |\hatf(t)|^2 \ dt$$
  Then as $T \to \infty$, $$(1-\epsilon) \int_\R |\hatf(t)|^2 \ dt \le \int_{\R} |f(t)|^2 dt \le \int_\R |\hatf(t)|^2 \ dt$$
  Since $\epsilon$ can be made arbitary small, the result follows.


\end{proof}
